!function(c,d){function b(f,e){this.$element=f;this.options=c.extend({},b.defaults,this.$element.data(),e);this._init();d.registerPlugin(this,"Sticky")}b.defaults={container:"<div data-sticky-container></div>",stickTo:"top",anchor:"",topAnchor:"",btmAnchor:"",marginTop:1,marginBottom:1,stickyOn:"medium",stickyClass:"sticky",containerClass:"sticky-container",checkEvery:-1};b.prototype._init=function(){var e=this.$element.parent("[data-sticky-container]"),g=this.$element[0].id||d.GetYoDigits(6,"sticky"),f=this;if(!e.length){this.wasWrapped=true}this.$container=e.length?e:c(this.options.container).wrapInner(this.$element);this.$container.addClass(this.options.containerClass);this.$element.addClass(this.options.stickyClass).attr({"data-resize":g});this.scrollCount=this.options.checkEvery;this.isStuck=false;if(this.options.anchor!==""){this.$anchor=c("#"+this.options.anchor)}else{this._parsePoints()}this._setSizes(function(){f._calc(false)});this._events(g.split("-").reverse().join("-"))};b.prototype._parsePoints=function(){var l=this.options.topAnchor,e=this.options.btmAnchor,m=[l,e],k={};if(l&&e){for(var h=0,j=m.length;h<j&&m[h];h++){var n;if(typeof m[h]==="number"){n=m[h]}else{var f=m[h].split(":"),g=c("#"+f[0]);n=g.offset().top;if(f[1]&&f[1].toLowerCase()==="bottom"){n+=g[0].getBoundingClientRect().height}}k[h]=n}}else{k={0:1,1:document.documentElement.scrollHeight}}this.points=k;return};b.prototype._events=function(g){var f=this,e=this.scrollListener="scroll.zf."+g;if(this.isOn){return}if(this.canStick){this.isOn=true;c(window).off(e).on(e,function(h){if(f.scrollCount===0){f.scrollCount=f.options.checkEvery;f._setSizes(function(){f._calc(false,window.pageYOffset)})}else{f.scrollCount--;f._calc(false,window.pageYOffset)}})}this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",function(i,h){f._setSizes(function(){f._calc(false);if(f.canStick){if(!f.isOn){f._events(g)}}else{if(f.isOn){f._pauseListeners(e)}}})})};b.prototype._pauseListeners=function(e){this.isOn=false;c(window).off(e);this.$element.trigger("pause.zf.sticky")};b.prototype._calc=function(f,e){if(f){this._setSizes()}if(!this.canStick){if(this.isStuck){this._removeSticky(true)}return false}if(!e){e=window.pageYOffset}if(e>=this.topPoint){if(e<=this.bottomPoint){if(!this.isStuck){this._setSticky()}}else{if(this.isStuck){this._removeSticky(false)}}}else{if(this.isStuck){this._removeSticky(true)}}};b.prototype._setSticky=function(){var h=this.options.stickTo,g=h==="top"?"marginTop":"marginBottom",e=h==="top"?"bottom":"top",f={};f[g]=this.options[g]+"em";f[h]=0;f[e]="auto";f.left=this.$container.offset().left+parseInt(window.getComputedStyle(this.$container[0])["padding-left"],10);this.isStuck=true;this.$element.removeClass("is-anchored is-at-"+e).addClass("is-stuck is-at-"+h).css(f).trigger("sticky.zf.stuckto:"+h)};b.prototype._removeSticky=function(g){var k=this.options.stickTo,j=k==="top",h={},e=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,i=j?"marginTop":"marginBottom",f=j?"bottom":"top",l=g?"top":"bottom";h[i]=0;if((g&&!j)||(j&&!g)){h[k]=e;h[f]=0}else{h[k]=0;h[f]=e}h.left="";this.isStuck=false;this.$element.removeClass("is-stuck is-at-"+k).addClass("is-anchored is-at-"+l).css(h).trigger("sticky.zf.unstuckfrom:"+l)};b.prototype._setSizes=function(e){this.canStick=d.MediaQuery.atLeast(this.options.stickyOn);if(!this.canStick){e()}var j=this,i=this.$container[0].getBoundingClientRect().width,f=window.getComputedStyle(this.$container[0]),g=parseInt(f["padding-right"],10);if(this.$anchor&&this.$anchor.length){this.anchorHeight=this.$anchor[0].getBoundingClientRect().height}else{this._parsePoints()}this.$element.css({"max-width":i-g+"px"});var h=this.$element[0].getBoundingClientRect().height||this.containerHeight;this.containerHeight=h;this.$container.css({height:h});this.elemHeight=h;if(this.isStuck){this.$element.css({left:this.$container.offset().left+parseInt(f["padding-left"],10)})}this._setBreakPoints(h,function(){if(e){e()}})};b.prototype._setBreakPoints=function(i,f){if(!this.canStick){if(f){f()}else{return false}}var k=a(this.options.marginTop),j=a(this.options.marginBottom),h=this.points?this.points[0]:this.$anchor.offset().top,e=this.points?this.points[1]:h+this.anchorHeight,g=window.innerHeight;if(this.options.stickTo==="top"){h-=k;e-=(i+k)}else{if(this.options.stickTo==="bottom"){h-=(g-(i+j));e-=(g-j)}else{}}this.topPoint=h;this.bottomPoint=e;if(f){f()}};b.prototype.destroy=function(){this._removeSticky(true);this.$element.removeClass(this.options.stickyClass+" is-anchored is-at-top").css({height:"",top:"",bottom:"","max-width":""}).off("resizeme.zf.trigger");this.$anchor.off("change.zf.sticky");c(window).off(this.scrollListener);if(this.wasWrapped){this.$element.unwrap()}else{this.$container.removeClass(this.options.containerClass).css({height:""})}d.unregisterPlugin(this)};function a(e){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*e}d.plugin(b,"Sticky")}(jQuery,window.Foundation);
